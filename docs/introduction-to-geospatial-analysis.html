<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction to Geospatial Analysis | Getting Started with Mapping</title>
  <meta name="description" content="This is a brief introduction to get started producing maps using R" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction to Geospatial Analysis | Getting Started with Mapping" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a brief introduction to get started producing maps using R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction to Geospatial Analysis | Getting Started with Mapping" />
  
  <meta name="twitter:description" content="This is a brief introduction to get started producing maps using R" />
  

<meta name="author" content="Geospatial Cross Team" />


<meta name="date" content="2024-05-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="mapping-in-posit.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.1/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script>
<link href="libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.css" rel="stylesheet" />
<script src="libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.min.js"></script>
<link href="libs/bootstrap-3.3.7/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.7/bootstrap.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Getting Started With Mapping</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About This Guide</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-geospatial-analysis.html"><a href="introduction-to-geospatial-analysis.html"><i class="fa fa-check"></i><b>2</b> Introduction to Geospatial Analysis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-geospatial-analysis.html"><a href="introduction-to-geospatial-analysis.html#terminology"><i class="fa fa-check"></i><b>2.1</b> Terminology</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-geospatial-analysis.html"><a href="introduction-to-geospatial-analysis.html#types-of-spatial-data"><i class="fa fa-check"></i><b>2.1.1</b> Types of Spatial Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-geospatial-analysis.html"><a href="introduction-to-geospatial-analysis.html#coordinate-reference-systems"><i class="fa fa-check"></i><b>2.1.2</b> Coordinate Reference Systems</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-geospatial-analysis.html"><a href="introduction-to-geospatial-analysis.html#mapping-tools"><i class="fa fa-check"></i><b>2.2</b> Mapping Tools</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mapping-in-posit.html"><a href="mapping-in-posit.html"><i class="fa fa-check"></i><b>3</b> Mapping in Posit</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mapping-in-posit.html"><a href="mapping-in-posit.html#required-packages"><i class="fa fa-check"></i><b>3.1</b> Required Packages</a></li>
<li class="chapter" data-level="3.2" data-path="mapping-in-posit.html"><a href="mapping-in-posit.html#setting-up-posit"><i class="fa fa-check"></i><b>3.2</b> Setting up Posit</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="areal-unit-data-1.html"><a href="areal-unit-data-1.html"><i class="fa fa-check"></i><b>4</b> Areal Unit Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="areal-unit-data-1.html"><a href="areal-unit-data-1.html#reading-in-shapefiles"><i class="fa fa-check"></i><b>4.1</b> Reading in Shapefiles</a></li>
<li class="chapter" data-level="4.2" data-path="areal-unit-data-1.html"><a href="areal-unit-data-1.html#joining-with-data"><i class="fa fa-check"></i><b>4.2</b> Joining with data</a></li>
<li class="chapter" data-level="4.3" data-path="areal-unit-data-1.html"><a href="areal-unit-data-1.html#ggplot2"><i class="fa fa-check"></i><b>4.3</b> <code>{ggplot2}</code></a></li>
<li class="chapter" data-level="4.4" data-path="areal-unit-data-1.html"><a href="areal-unit-data-1.html#leaflet"><i class="fa fa-check"></i><b>4.4</b> <code>{leaflet}</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="spatial-point-maps-in-leaflet.html"><a href="spatial-point-maps-in-leaflet.html"><i class="fa fa-check"></i><b>5</b> Spatial Point Maps in <code>{leaflet}</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="spatial-point-maps-in-leaflet.html"><a href="spatial-point-maps-in-leaflet.html#initial-set-up"><i class="fa fa-check"></i><b>5.1</b> Initial Set-up</a></li>
<li class="chapter" data-level="5.2" data-path="spatial-point-maps-in-leaflet.html"><a href="spatial-point-maps-in-leaflet.html#building-the-map"><i class="fa fa-check"></i><b>5.2</b> Building the Map</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="spatial-point-maps-in-leaflet.html"><a href="spatial-point-maps-in-leaflet.html#plain-markers-with-pop-ups"><i class="fa fa-check"></i><b>5.2.1</b> Plain Markers with Pop-ups</a></li>
<li class="chapter" data-level="5.2.2" data-path="spatial-point-maps-in-leaflet.html"><a href="spatial-point-maps-in-leaflet.html#styling-markers-based-on-data"><i class="fa fa-check"></i><b>5.2.2</b> Styling Markers Based on Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="helpful-resources.html"><a href="helpful-resources.html"><i class="fa fa-check"></i><b>6</b> Helpful Resources</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Getting Started with Mapping</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-geospatial-analysis" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Introduction to Geospatial Analysis<a href="introduction-to-geospatial-analysis.html#introduction-to-geospatial-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The term Geospatial analysis applies where we are interested in exploring data that relate to particular spatial locations. These locations may be single point locations, such as the coordinate locations of hospitals, GP practices, patients’ homes. The location may also relate to administrative regions, such as health boards, health and social care partnerships, localities, data zones.</p>
<div id="terminology" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Terminology<a href="introduction-to-geospatial-analysis.html#terminology" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section will outline some of the key terminology that will be used throughout this guide.</p>
<div id="types-of-spatial-data" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Types of Spatial Data<a href="introduction-to-geospatial-analysis.html#types-of-spatial-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are two commonly used types of spatial information that you are likely to encounter. These are <em>areal unit data</em> and <em>spatial point data</em>. Each of these is described below.</p>
<div id="areal-unit-data" class="section level4 hasAnchor" number="2.1.1.1">
<h4><span class="header-section-number">2.1.1.1</span> Areal Unit Data<a href="introduction-to-geospatial-analysis.html#areal-unit-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>Areal unit data</em> is data that relates to specific regions combined with spatial information about the regions (e.g. rate of hospital admissions per 1,000 population for each health board in Scotland along with information on the boundaries of the region). This type of spatial data is usually supported by shape files.</p>
<p><em>Shape files</em> are a set of files that contain information on a particular spatial region, particularly coordinates which represent the boundary (or, where there is a collection of regions, boundaries) of an area.</p>
<p>Typically we would produce maps of areal unit data in two circumstances:</p>
<ol style="list-style-type: decimal">
<li><p>When we are interested in comparing measurements or observations of data across a large number of regions (where the number of regions is more than should be sensibly displayed on a bar chart),</p></li>
<li><p>Where we are interested in the spatial pattern as a whole.</p></li>
</ol>
<p>For the second type of analysis we might be thinking about answering questions such as:</p>
<ul>
<li><p>Are there clusters of areas that are close to each other that have similar observations?</p></li>
<li><p>Are there neighbouring areas where there is a large difference in observations?</p></li>
<li><p>Is there a general trend in observations across the surface? (This can include simple trends like increasing from south to north, but may involve more complex trends like urban vs rural areas.)</p></li>
</ul>
</div>
<div id="spatial-point-data" class="section level4 hasAnchor" number="2.1.1.2">
<h4><span class="header-section-number">2.1.1.2</span> Spatial Point Data<a href="introduction-to-geospatial-analysis.html#spatial-point-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Spatial point data can be characterised in two ways depending on what our main focus is.</p>
<p>When we talk about <em>geostatistical data</em>, this indicates that we are mainly interested in the observation associated with a particular point location, rather than the location itself. An example of this might be weather measurements, where the location is important in building up a picture of the weather over a space, but we are mostly interested in the level of rainfall in a particular location. Usually with this type of data we would be aiming to create a smooth estimate of the measurement across the entire area of interest - so instead of having rainfall at individual weather stations, we would get an estimate of rainfall for all locations in Scotland.</p>
<p>When we talk about <em>point process data</em>, this indicates that our primary focus is on the location itself. This type of data would be considered where we are interested in the location of services, or the location of cases of a particular disease. In 1854, John Snow plotted the locations of cases of Cholera in London. By doing this, he demonstrated that Cholera is caused by poor sanitation rather than bad air, as had been previously suspected. This was the first ever spatial analysis performed.</p>
</div>
</div>
<div id="coordinate-reference-systems" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Coordinate Reference Systems<a href="introduction-to-geospatial-analysis.html#coordinate-reference-systems" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Coordinate reference systems are used to represent single point locations. Two commonly used coordinate systems in the UK are:</p>
<ul>
<li><p><em>easting, northing</em> - this is the <a href="https://www.gov.uk/guidance/uk-geospatial-data-standards-coordinate-reference-systems">coordinate system recommended by the UK government</a> for representing spatial data based on the British National Grid. Since the UK is such a small area in relation to the Earth as a whole this coordinate system represents locations in the UK on a flat grid. This will usually be the coordinate system used in any shape files produced by the UK government.</p></li>
<li><p><em>longitude, latitude</em> - this coordinate system is used globally and defines a point by its distance in degrees from the central lines on the Earth. Longitude is the “x” coordinate - it is the distance from the prime meridian which cuts the Earth in half vertically. Latitude is the “y” coordinate - which is the distance from the equator, which cuts the earth in half horizontally.</p></li>
</ul>
<p>It is important to be aware of which coordinate reference system you are using, as some tools will only work with specific types which will lead to errors or unusual output if you use the wrong system. For use in R, we will transform our data into longitude/latitude for consistency.</p>
</div>
</div>
<div id="mapping-tools" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Mapping Tools<a href="introduction-to-geospatial-analysis.html#mapping-tools" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are several tools that can be used to access, manipulate and map spatial data. These range from Graphical Information Systems (GIS), to programming languages such as R and Python when supported by an appropriate spatial package. Power BI also has mapping capabilities, supported by Bing.</p>
<p>This guide will focus on how to create maps using Posit, supported by the packages <code>{sf}</code> and <code>{ggplot2}</code> for non-interactive maps, and <code>{leaflet}</code> for interactive mapping.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mapping-in-posit.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
